/* =================================================================
   Butterfly 导航栏终极美化配置 (Custom CSS) - 优化版 V2
   修复内容：去除下划线、箭头旋转动画、优化间距、视觉平衡
   ================================================================= */

/* -----------------------------------------------------------------
   [模块 1] 阿里图标通用基础设置
   ----------------------------------------------------------------- */
   svg.icon {
    width: 1.2em;
    height: 1.2em;
    vertical-align: -0.15em;
    fill: currentColor;
    overflow: hidden;
    margin-right: 4px;
  }
  
  /* -----------------------------------------------------------------
     [模块 2] 导航栏容器布局
     ----------------------------------------------------------------- */
  @media screen and (min-width: 768px) {
    #nav {
      height: 70px; /* 稍微调小一点点，截图看 80px 可能略显空旷，70px 比较精致 */
      display: flex;
      align-items: center;
      justify-content: space-between;
      position: relative;
      padding: 0 30px;
    }
  }
  
  /* -----------------------------------------------------------------
     [模块 3] 左侧区域 (Logo/标题)
     ----------------------------------------------------------------- */
  @media screen and (min-width: 768px) {
    #blog-info {
      flex: 0 0 auto;
      display: flex;
      align-items: center;
    }
  
    #blog-info .site-name {
      font-size: 1.4rem; /* 稍微调大一点 */
      font-weight: bold;
      color: var(--font-color);
      text-shadow: 1px 1px 2px rgba(0,0,0,0.1); /* 增加一点立体感 */
    }
    
    #blog-info .site-icon {
      width: 40px;
      height: 40px;
      margin-right: 10px;
      border-radius: 50%; /* 如果是图片Logo，加上圆角更好看 */
    }
  }
  
  /* -----------------------------------------------------------------
     [模块 4] 中间区域 (主菜单) - 核心修改区
     ----------------------------------------------------------------- */
  @media screen and (min-width: 768px) {
    #menus .menus_items {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      align-items: center;
      height: 100%;
    }
  
    /* (1) 菜单项整体样式 */
    #menus .menus_item > a.site-page {
      font-size: 1.25rem; /* 字体大小 */
      font-weight: bold;
      padding: 0 15px;    /* 【间距调整】拉大左右间距，不那么挤 */
      display: flex;
      align-items: center;
      color: var(--font-color); /* 默认颜色跟随主题 */
      transition: all 0.3s;
    }
  
    /* (2) 【重要】去除默认的下划线(加载条)动画 */
    #menus .menus_item > a.site-page:after {
      display: none !important;
      content: none !important;
    }
  
    /* (3) 鼠标悬停效果：文字变色 + 图标抖动(faa-tada已生效) */
    #menus .menus_item > a.site-page:hover {
      color: #49b1f5 !important; /* 悬停变成亮蓝色 (可改成你喜欢的颜色) */
      background: transparent !important; /* 确保没有背景色块 */
    }
  
    /* (4) 图标大小控制 */
    #menus .menus_item > a.site-page svg.icon {
      width: 1.1em;
      height: 1.1em;
      margin-right: 8px; /* 图标和文字稍微拉开 */
    }
  
    /* (5) 【新增】箭头旋转动画逻辑 */
    /* 默认状态：箭头向下 */
    #menus .menus_item > a.site-page .fa-chevron-down {
      font-size: 0.6em;
      margin-left: 6px;
      transform: translateY(1px) rotate(0deg); /* 初始状态 */
      transition: transform 0.3s ease-in-out;  /* 添加平滑过渡动画 */
    }
    
    /* 悬停状态：父元素 hover 时，箭头旋转 180度 */
    #menus .menus_item:hover > a.site-page .fa-chevron-down {
      transform: translateY(1px) rotate(180deg) !important; /* 旋转朝上 */
    }
  }
  
  /* -----------------------------------------------------------------
     [模块 5] 右侧区域 (工具栏) - 核心修改区
     ----------------------------------------------------------------- */
  @media screen and (min-width: 768px) {
    #nav-right {
      display: flex;
      align-items: center;
      justify-content: flex-end;
      gap: 20px; /* 【间距调整】图标之间拉开 20px 间距，防止挤在一起 */
    }
  
    /* 统一控制右侧图标大小 */
    #nav-right .site-page svg.icon,
    #nav-right .sun_moon svg.icon {
      width: 22px !important;  /* 稍微调小一点，更精致 */
      height: 22px !important;
      transition: transform 0.3s; /* 添加缩放动画过渡 */
    }
  
    /* 右侧图标悬停效果：稍微放大 */
    #nav-right .site-page:hover svg.icon,
    #nav-right .sun_moon:hover svg.icon {
      transform: scale(1.15); /* 悬停放大 1.15倍 */
    }
  }
  
  /* 移动端隐藏 */
  @media screen and (max-width: 768px) {
    #nav-right { display: none; }
  }
  
  /* -----------------------------------------------------------------
     [模块 6] 二级菜单样式 (下拉卡片)
     ----------------------------------------------------------------- */
  #nav .menus_item {
    position: relative !important;
  }
  
  #nav .menus_item_child {
    position: absolute !important;
    left: 50% !important;
    transform: translateX(-50%) !important;
    top: 80% !important; /* 稍微靠上一点 */
    margin-top: 10px;    /* 用 margin 撑开距离，避免鼠标划过空隙消失 */
    
    width: max-content;
    min-width: 140px;
    border-radius: 12px;
    padding: 8px 10px;
    
    display: none;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    gap: 12px;
    
    visibility: hidden;
    opacity: 0;
    transition: all 0.3s ease-in-out;
    box-shadow: 0 5px 20px -4px rgba(0, 0, 0, 0.2);
    list-style: none;
  }
  
  /* 悬停显示 */
  #nav .menus_item:hover .menus_item_child {
    display: flex !important;
    visibility: visible !important;
    opacity: 1 !important;
  }
  
  /* 明暗适配 */
  [data-theme='light'] #nav .menus_item_child {
    background-color: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(10px); /* 增加毛玻璃效果 */
  }
  [data-theme='light'] #nav .menus_item_child li a { color: #4c4948 !important; }
  [data-theme='light'] #nav .menus_item_child li a:hover { color: #49b1f5 !important; background: transparent; }
  
  [data-theme='dark'] #nav .menus_item_child {
    background-color: rgba(30, 30, 30, 0.9);
  }
  [data-theme='dark'] #nav .menus_item_child li a { color: #eee !important; }
  [data-theme='dark'] #nav .menus_item_child li a:hover { color: #fff !important; }
  
  #nav .menus_item_child li { display: inline-block; margin: 0 !important; }
  #nav .menus_item_child li a {
    display: block;
    padding: 5px 8px;
    font-size: 0.95em;
    font-weight: bold;
  }
  #nav .menus_item_child:before { display: none; }
  
  /* -----------------------------------------------------------------
     [模块 7] 明暗模式图标逻辑
     ----------------------------------------------------------------- */
  [data-theme='light'] #nightmode-button .icon-moon { display: inline-block; }
  [data-theme='light'] #nightmode-button .icon-sun  { display: none; }
  [data-theme='dark'] #nightmode-button .icon-moon { display: none; }
  [data-theme='dark'] #nightmode-button .icon-sun  { display: inline-block; fill: #f1c40f; }



  